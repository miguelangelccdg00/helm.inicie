<!-- Men√∫ lateral -->
<app-menu class="menu-lateral"></app-menu>

<div class="contenedor-principal">
  <h1>Modificar soluci√≥n</h1>

  <div id="formulario-modificar">
    <form *ngIf="solucion" (ngSubmit)="guardarCambios()">

      <div class="flex">

        <!-- Secci√≥n de informaci√≥n general -->
        <div class="seccion">
          <h2 class="titulo-seccion">Informaci√≥n General</h2>

          <div class="grid-container">
            <div class="form-group">
              <label for="title">T√≠tulo:</label>
              <input id="title" name="title" [(ngModel)]="solucion.title" placeholder="Ingrese el t√≠tulo" pInputText
                variant="filled" />
            </div>
            <div class="form-group">
              <label for="subtitle">Subt√≠tulo:</label>
              <input [(ngModel)]="solucion.subtitle" name="subtitle" id="subtitle" placeholder="Ingrese el subt√≠tulo"
                pInputText variant="filled" />
            </div>
            <div class="form-group">
              <label for="icon">Icono:</label>
              <input [(ngModel)]="solucion.icon" name="icon" id="icon" placeholder="Nombre del icono" pInputText
                variant="filled" />
            </div>
            <div class="form-group">
              <label for="slug">Slug:</label>
              <input [(ngModel)]="solucion.slug" name="slug" id="slug" placeholder="URL amigable" pInputText
                variant="filled" />
            </div>
            <div class="form-group">
              <label for="titleweb">T√≠tulo Web:</label>
              <input [(ngModel)]="solucion.titleweb" name="titleweb" id="titleweb" placeholder="T√≠tulo para la web"
                pInputText variant="filled" />
            </div>
          </div>
        </div>

        <!-- Secci√≥n de multimedia -->
        <div class="seccion">
          <h2 class="titulo-seccion">Multimedia</h2>

          <div class="grid-container">
            <div class="form-group col-8">
              <label for="multimediaUri">Multimedia URI:</label>
              <input [(ngModel)]="solucion.multimediaUri" name="multimediaUri" id="multimediaUri"
                placeholder="URL del recurso multimedia" pInputText variant="filled" />
            </div>
            <div class="form-group col-4">
              <label for="multimediaTypeId">Tipo de Multimedia:</label>
              <input [(ngModel)]="solucion.multimediaTypeId" name="multimediaTypeId" id="multimediaTypeId" type="number"
                placeholder="ID del tipo" pInputText variant="filled" />
            </div>
          </div>
        </div>

        <!-- Secci√≥n de CTAs -->
        <div class="seccion">
          <h2 class="titulo-seccion">Llamadas a la Acci√≥n (CTAs)</h2>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Primera CTA</h3>
            <div class="grid-container">
              <div class="form-group col-6">
                <label for="firstCtaTitle">T√≠tulo del Primer CTA:</label>
                <input [(ngModel)]="solucion.firstCtaTitle" name="firstCtaTitle" id="firstCtaTitle"
                  placeholder="T√≠tulo del primer CTA" pInputText variant="filled" />
              </div>
              <div class="form-group col-6">
                <label for="firstCtaPragma">Descripci√≥n del Primer CTA:</label>
                <textarea [(ngModel)]="solucion.firstCtaPragma" name="firstCtaPragma" id="firstCtaPragma"
                  placeholder="Descripci√≥n del primer CTA" pInputText variant="filled"></textarea>
              </div>
            </div>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Segunda CTA</h3>
            <div class="grid-container">
              <div class="form-group col-6">
                <label for="secondCtaTitle">T√≠tulo del Segundo CTA:</label>
                <input [(ngModel)]="solucion.secondCtaTitle" name="secondCtaTitle" id="secondCtaTitle"
                  placeholder="T√≠tulo del segundo CTA" pInputText variant="filled" />
              </div>
              <div class="form-group col-6">
                <label for="secondCtaPragma">Descripci√≥n del Segundo CTA:</label>
                <textarea [(ngModel)]="solucion.secondCtaPragma" name="secondCtaPragma" id="secondCtaPragma"
                  placeholder="Descripci√≥n del segundo CTA" pInputText variant="filled"></textarea>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="flex2">

        <!-- Secci√≥n de problema y soluci√≥n -->
        <div class="seccion3" #scrollProblemas>
          <h2 class="titulo-seccion">Problema y Soluci√≥n</h2>

          <div *ngIf="mostrarModificarProblema === true" class="subseccion">
            <h3 class="titulo-subseccion">Modificar problema</h3>

            <form (ngSubmit)="modificarProblema()">
              <div class="grid-container">

                <div class="form-group col-6">
                  <label for="nuevoProblemaDescription">Descripci√≥n:</label>
                  <textarea id="nuevoProblemaDescription" [(ngModel)]="nuevoProblema.description"
                    name="nuevoProblemaDescription" required placeholder="Descripci√≥n del problema" pInputText
                    variant="filled"></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Modificar</button>
                <button type="button"
                  (click)="mostrarModificarProblema = false; mostrarBotonModificarProblema = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div *ngIf="mostrarCrearProblema === true" class="subseccion">
            <h3 class="titulo-subseccion">Crear y a√±adir problema</h3>

            <form (ngSubmit)="crearNuevoProblema()">
              <div class="grid-container">
                <div class="form-group col-6">
                  <label for="nuevoProblemaDescription">Descripci√≥n:</label>
                  <textarea id="nuevoProblemaDescription" [(ngModel)]="nuevoProblema.description"
                    name="nuevoProblemaDescription" required placeholder="Descripci√≥n del problema" pInputText
                    variant="filled"></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Crear y A√±adir</button>
                <button type="button"
                  (click)="mostrarCrearProblema = false; mostrarBotonCrearProblema = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">A√±adir problemas a la soluci√≥n</h3>

            <div class="buscador-selector-container">
              <div class="form-group col-12">
                <label for="buscadorProblema">Seleccionar Problema:</label>
                <div class="custom-select">
                  <input type="text" id="buscadorProblema" [(ngModel)]="buscadorProblema" name="buscadorProblema"
                    (input)="filtrarProblemas()"
                    (focus)="mostrarOpcionesProblema = true ; problemasFiltrados = allProblemas"
                    (click)="mostrarOpcionesProblema = true" placeholder="Buscar y seleccionar problema..." pInputText
                    variant="filled" />
                  <div class="dropdown-menu" *ngIf="mostrarOpcionesProblema">
                    <div *ngFor="let problema of problemasFiltrados" class="dropdown-item"
                      (click)="seleccionarProblema(problema)">
                      {{ problema.description }}
                    </div>
                    <div class="dropdown-item"
                      (click)="scrollProblema(); mostrarCrearProblema = true; mostrarOpcionesProblema = false">
                      - Crear y A√±adir Problema -
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="botones-container">
              <button type="button" (click)="agregarProblema()">A√±adir Problema</button>
            </div>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Problemas asociados a la soluci√≥n</h3>
            <div>
              <p-table [value]="solucion.problemas || []" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">

                <ng-template pTemplate="header">
                  <tr>
                    <th>Descripci√≥n</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-problema>
                  <tr>
                    <td>{{ problema.description }}</td>
                    <td>
                      <span (click)="seleccionarProblema(problema); mostrarModificarProblema = true" class="emojis">
                        ‚úèÔ∏è
                      </span>
                    </td>
                    <td>
                      <span class="emojis"
                        (click)="problema.id_problema !== undefined ? confirmarEliminarProblema(problema.id_problema, $event) : null">
                        üóëÔ∏è
                      </span>
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3" style="text-align: center;">No hay problemas asociados a esta soluci√≥n.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>

        </div>

        <!-- Secci√≥n de caracter√≠sticas -->
        <div class="seccion3" #scrollCaracteristicas>
          <h2 class="titulo-seccion">Caracter√≠sticas</h2>

          <div *ngIf="mostrarModificarCaracteristica === true" class="subseccion">
            <h3 class="titulo-subseccion">Modificar caracter√≠stica</h3>

            <form (ngSubmit)="modificarCaracteristica()">
              <div class="grid-container">
                <div class="form-group col-6">
                  <label for="nuevaCaracteristicaDescription">Descripci√≥n:</label>
                  <textarea id="nuevaCaracteristicaDescription" [(ngModel)]="nuevaCaracteristica.description"
                    name="nuevaCaracteristicaDescription" required placeholder="Descripci√≥n de la caracter√≠stica"
                    pInputText variant="filled"></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Modificar</button>
                <button type="button"
                  (click)="mostrarModificarCaracteristica = false; mostrarBotonModificarCaracteristica = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div *ngIf="mostrarCrearCaracteristica === true" class="subseccion">
            <h3 class="titulo-subseccion">Crear y a√±adir caracter√≠stica</h3>

            <form (ngSubmit)="crearNuevaCaracteristica()">
              <div class="grid-container">

                <div class="form-group col-6">
                  <label for="nuevaCaracteristicaDescripcion">Descripci√≥n:</label>
                  <textarea id="nuevaCaracteristicaDescripcion" [(ngModel)]="nuevaCaracteristica.description"
                    name="nuevaCaracteristicaDescripcion" required placeholder="Descripci√≥n de la caracter√≠stica"
                    pInputText variant="filled"></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Crear y A√±adir</button>
                <button type="button"
                  (click)="mostrarCrearCaracteristica = false; mostrarBotonCrearCaracteristica = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">A√±adir caracter√≠sticas a la soluci√≥n</h3>
            <div class="buscador-selector-container">
              <div class="form-group col-12">
                <label for="buscadorCaracteristica">Seleccionar Caracter√≠stica:</label>
                <div class="custom-select">
                  <input type="text" id="buscadorCaracteristica" [(ngModel)]="buscadorCaracteristica"
                    name="buscadorCaracteristica" (input)="filtrarCaracteristicas()"
                    (focus)="mostrarOpcionesCaracteristicas = true ; caracteristicasFiltradas = allCaracteristicas"
                    (click)="mostrarOpcionesCaracteristicas = true" placeholder="Buscar y seleccionar caracter√≠stica..."
                    pInputText variant="filled" />
                  <div class="dropdown-menu" *ngIf="mostrarOpcionesCaracteristicas">
                    <div *ngFor="let caracteristica of caracteristicasFiltradas" class="dropdown-item"
                      (click)="seleccionarCaracteristica(caracteristica)">
                      {{ caracteristica.description }}
                    </div>
                    <div class="dropdown-item"
                      (click)="scrollCaracteristica(); mostrarCrearCaracteristica = true; mostrarOpcionesCaracteristicas = false">
                      - Crear y A√±adir Caracter√≠stica -
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="botones-container">
            <button type="button" (click)="agregarCaracteristica()">A√±adir Caracter√≠stica</button>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Caracter√≠sticas asociadas a la soluci√≥n</h3>
            <div>
              <p-table [value]="solucion.caracteristicas || []" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">
                <ng-template pTemplate="header">
                  <tr>
                    <th>Descripci√≥n</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-caracteristica>
                  <tr>
                    <td>{{ caracteristica.description }}</td>
                    <td>
                      <span (click)="seleccionarCaracteristica(caracteristica); mostrarModificarCaracteristica = true"
                        class="emojis">
                        ‚úèÔ∏è
                      </span>
                    </td>
                    <td>
                      <span class="emojis"
                        (click)="caracteristica.id_caracteristica !== undefined ? confirmarEliminarCaracteristica(caracteristica.id_caracteristica, $event) : null">
                        üóëÔ∏è
                      </span>
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3" style="text-align: center;">No hay caracter√≠sticas asociadas a esta soluci√≥n.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>

        <!-- Secci√≥n de beneficios -->
        <div class="seccion3" #scrollBeneficios>
          <h2 class="titulo-seccion">Beneficios</h2>

          <div *ngIf="mostrarModificarBeneficio === true" class="subseccion">
            <h3 class="titulo-subseccion">Modificar beneficio</h3>

            <form (ngSubmit)="modificarBeneficio()">
              <div class="grid-container">

                <div class="form-group col-6">
                  <label for="nuevoBeneficioDescription">Descripci√≥n:</label>
                  <textarea id="nuevoBeneficioDescription" [(ngModel)]="nuevoBeneficio.description"
                    name="nuevoBeneficioDescription" required placeholder="Descripci√≥n del beneficio" pInputText
                    variant="filled"></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Modificar</button>
                <button type="button"
                  (click)="mostrarModificarBeneficio = false; mostrarBotonModificarBeneficio = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div *ngIf="mostrarCrearBeneficio === true" class="subseccion">
            <h3 class="titulo-subseccion">Crear y a√±adir beneficio</h3>

            <form (ngSubmit)="crearNuevoBeneficio()">
              <div class="form-group">
                <label for="nuevaDescripcion">Descripci√≥n:</label>
                <textarea id="nuevaDescripcion" [(ngModel)]="nuevoBeneficio.description" name="nuevaDescripcion"
                  required></textarea>
              </div>
              <div class="botones-container5">
                <button type="submit">Crear y A√±adir</button>
                <button type="button"
                  (click)="mostrarCrearBeneficio = false; mostrarBotonCrear = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">A√±adir beneficios a la soluci√≥n</h3>
            <div class="buscador-selector-container">
              <div class="form-group col-12">
                <label for="buscadorBeneficio">Seleccionar Beneficio:</label>
                <div class="custom-select">
                  <input type="text" id="buscadorBeneficio" [(ngModel)]="buscadorBeneficio" name="buscadorBeneficio"
                    (input)="filtrarBeneficios()" (focus)="mostrarOpciones = true; beneficiosFiltrados = allBeneficios"
                    (click)="mostrarOpciones = true" placeholder="Buscar y seleccionar beneficio..." pInputText
                    variant="filled" />
                  <div class="dropdown-menu" *ngIf="mostrarOpciones">
                    <div *ngFor="let beneficio of beneficiosFiltrados" class="dropdown-item"
                      (click)="seleccionarBeneficio(beneficio)">
                      {{ beneficio.description }}
                    </div>
                    <div class="dropdown-item"
                      (click)="scrollBeneficio(); mostrarCrearBeneficio = true; mostrarOpciones = false">
                      - Crear y A√±adir Beneficio -
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="botones-container">
            <button type="button" (click)="agregarBeneficio()">A√±adir Beneficio</button>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Beneficios asociados a la soluci√≥n</h3>
            <div>
              <p-table [value]="solucion.beneficios || []" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">
                <ng-template pTemplate="header">
                  <tr>
                    <th>Descripci√≥n</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-beneficio>
                  <tr>
                    <td>{{ beneficio.description }}</td>
                    <td>
                      <span (click)="seleccionarBeneficio(beneficio); mostrarModificarBeneficio = true" class="emojis">
                        ‚úèÔ∏è
                      </span>
                    </td>
                    <td>
                      <span class="emojis"
                        (click)="beneficio.id_beneficio !== undefined ? confirmarEliminarBeneficio(beneficio.id_beneficio, $event) : null">
                        üóëÔ∏è
                      </span>
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3" style="text-align: center;">No hay beneficios asociados a esta soluci√≥n.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>

      </div>

      <div class="flex3">

        <!-- Secci√≥n de √°mbitos -->
        <div class="seccion4" #scrollAmbitos>
          <h2 class="titulo-seccion">√Åmbitos</h2>

          <div *ngIf="mostrarModificarAmbito === true" class="subseccion">
            <h3 class="titulo-subseccion">Modificar √°mbito</h3>

            <form (ngSubmit)="modificarAmbito()">
              <div class="grid-container">
                <div class="form-group col-6">
                  <label for="nuevaDescripcionAmbito">Descripci√≥n:</label>
                  <textarea id="nuevaDescripcionAmbito" [(ngModel)]="nuevoAmbito.description"
                    name="nuevaDescripcionAmbito" required placeholder="Descripci√≥n" pInputText
                    variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoTextoweb">Texto Web:</label>
                  <textarea id="nuevoTextoweb" [(ngModel)]="nuevoAmbito.textoweb" name="nuevoTextoweb"
                    placeholder="Texto Web" required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoPrefijo">Prefijo:</label>
                  <textarea id="nuevoPrefijo" [(ngModel)]="nuevoAmbito.prefijo" name="nuevoPrefijo"
                    placeholder="Prefijo" required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoSlug">Slug:</label>
                  <textarea id="nuevoSlug" [(ngModel)]="nuevoAmbito.slug" name="nuevoSlug" placeholder="Slug"
                    required></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Modificar</button>
                <button type="button"
                  (click)="mostrarModificarAmbito = false; mostrarBotonModificarAmbito = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div *ngIf="mostrarCrearAmbito === true" class="subseccion">
            <h3 class="titulo-subseccion">Crear y a√±adir √°mbito</h3>

            <form (ngSubmit)="crearNuevoAmbito()" #crearAmbForm="ngForm">
              <div class="form-group margen">
                <label for="nuevaDescripcionAmbito">Descripci√≥n:</label>
                <textarea id="nuevaDescripcionAmbito" [(ngModel)]="nuevoAmbito.description"
                  name="nuevaDescripcionAmbito" placeholder="Descripci√≥n del √°mbito" required
                  #descCtrl="ngModel"></textarea>
                <div *ngIf="descCtrl.invalid && descCtrl.touched" class="error">
                  La descripci√≥n es obligatoria.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoTextoweb">Texto Web:</label>
                <textarea id="nuevoTextoweb" [(ngModel)]="nuevoAmbito.textoweb" name="nuevoTextoweb"
                  placeholder="Texto Web del √°mbito" required #textoCtrl="ngModel"></textarea>
                <div *ngIf="textoCtrl.invalid && textoCtrl.touched" class="error">
                  El texto web es obligatorio.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoPrefijo">Prefijo:</label>
                <textarea id="nuevoPrefijo" [(ngModel)]="nuevoAmbito.prefijo" name="nuevoPrefijo"
                  placeholder="Prefijo del √°mbito" required #prefCtrl="ngModel"></textarea>
                <div *ngIf="prefCtrl.invalid && prefCtrl.touched" class="error">
                  El prefijo es obligatorio.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoSlug">Slug:</label>
                <textarea id="nuevoSlug" [(ngModel)]="nuevoAmbito.slug" name="nuevoSlug" placeholder="Slug del √°mbito"
                  required #slugCtrl="ngModel"></textarea>
                <div *ngIf="slugCtrl.invalid && slugCtrl.touched" class="error">
                  El slug es obligatorio.
                </div>
              </div>

              <div class="botones-container5">
                <button type="submit" [disabled]="crearAmbForm.invalid">Crear y A√±adir</button>
                <button type="button" (click)="mostrarCrearAmbito = false; mostrarBotonCrearAmbito = true">
                  Cancelar
                </button>
              </div>
            </form>

          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">A√±adir √°mbitos a la soluci√≥n</h3>
            <div class="buscador-selector-container">
              <div class="form-group col-12">
                <label for="buscadorAmbito">Seleccionar √Åmbito:</label>
                <div class="custom-select">
                  <input type="text" id="buscadorAmbito" [(ngModel)]="buscadorAmbito" name="buscadorAmbito"
                    (input)="filtrarAmbitos()" (focus)="mostrarOpcionesAmbitos = true; ambitosFiltrados = allAmbitos"
                    (click)="mostrarOpcionesAmbitos = true" placeholder="Buscar y seleccionar √°mbito..." pInputText
                    variant="filled" />
                  <div class="dropdown-menu" *ngIf="mostrarOpcionesAmbitos">
                    <div *ngFor="let ambito of ambitosFiltrados" class="dropdown-item"
                      (click)="seleccionarAmbito(ambito)">
                      {{ ambito.description }}
                    </div>
                    <div class="dropdown-item"
                      (click)="scrollAmbito(); mostrarCrearAmbito = true; mostrarOpcionesAmbitos = false">
                      - Crear y A√±adir √Åmbito -
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="botones-container">
              <button type="button" (click)="agregarAmbito()">A√±adir √Åmbito</button>
            </div>
          </div>

          <!-- Tabla de √°mbitos asociados -->
          <div class="subseccion">
            <h3 class="titulo-subseccion">√Åmbitos asociados a la soluci√≥n</h3>
            <div *ngIf="ambitos && ambitos.length">
              <p-table [value]="ambitos" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">

                <ng-template pTemplate="header">
                  <tr>
                    <th>Descripci√≥n</th>
                    <th>Texto Web</th>
                    <th>Prefijo</th>
                    <th>Slug</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-ambito>
                  <tr>
                    <td>{{ ambito.description }}</td>
                    <td>{{ ambito.textoweb }}</td>
                    <td>{{ ambito.prefijo }}</td>
                    <td>{{ ambito.slug }}</td>
                    <td>
                      <span (click)="editarAmbito(ambito)" class="emojis">‚úèÔ∏è</span>
                    </td>
                    <td>
                      <span (click)="confirmarEliminarSolucionAmbito(ambito.id_ambito!, solucion.id_solucion!, $event)"
                        class="emojis">üóëÔ∏è</span>
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
            <div *ngIf="!ambitos || ambitos.length === 0">
              <p>No hay √°mbitos asociados a esta soluci√≥n.</p>
            </div>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Soluci√≥n seg√∫n cada √°mbito</h3>

            <!-- Formulario para modificar soluci√≥n por √°mbito -->
            <div *ngIf="mostrarModificarSolucionAmbito" class="subseccion" #formularioSolucionAmbito>
              <h3 class="titulo-subseccion">Modificar soluci√≥n por √°mbito</h3>

              <form (ngSubmit)="modificarSolucionAmbito()">
                <div class="grid-container">
                  <div class="form-group col-6">
                    <label for="title">title:</label>
                    <input id="title" [(ngModel)]="nuevaSolucionAmbito.title" name="title" placeholder="title"
                      pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="subtitle">subtitle:</label>
                    <input id="subtitle" [(ngModel)]="nuevaSolucionAmbito.subtitle" name="subtitle"
                      placeholder="subtitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="icon">icon:</label>
                    <input id="icon" [(ngModel)]="nuevaSolucionAmbito.icon" name="icon" placeholder="icon" pInputText
                      variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="titleweb">titleweb:</label>
                    <input id="titleweb" [(ngModel)]="nuevaSolucionAmbito.titleweb" name="titleweb"
                      placeholder="titleweb" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="slug">slug:</label>
                    <input id="slug" [(ngModel)]="nuevaSolucionAmbito.slug" name="slug" placeholder="slug" pInputText
                      variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="multimediaUri">multimediaUri:</label>
                    <input id="multimediaUri" [(ngModel)]="nuevaSolucionAmbito.multimediaUri" name="multimediaUri"
                      placeholder="multimediaUri" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="multimediaTypeId">multimediaTypeId:</label>
                    <input id="multimediaTypeId" [(ngModel)]="nuevaSolucionAmbito.multimediaTypeId"
                      name="multimediaTypeId" placeholder="multimediaTypeId" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="problemaTitle">problemaTitle:</label>
                    <input id="problemaTitle" [(ngModel)]="nuevaSolucionAmbito.problemaTitle" name="problemaTitle"
                      placeholder="problemaTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="problemaPragma">problemaPragma:</label>
                    <textarea id="problemaPragma" [(ngModel)]="nuevaSolucionAmbito.problemaPragma" name="problemaPragma"
                      placeholder="problemaPragma" pInputText variant="filled"></textarea>
                  </div>
                  <div class="form-group col-6">
                    <label for="solucionTitle">solucionTitle:</label>
                    <input id="solucionTitle" [(ngModel)]="nuevaSolucionAmbito.solucionTitle" name="solucionTitle"
                      placeholder="solucionTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="solucionPragma">solucionPragma:</label>
                    <textarea id="solucionPragma" [(ngModel)]="nuevaSolucionAmbito.solucionPragma" name="solucionPragma"
                      placeholder="solucionPragma" pInputText variant="filled"></textarea>
                  </div>
                  <div class="form-group col-6">
                    <label for="caracteristicasTitle">caracteristicasTitle:</label>
                    <input id="caracteristicasTitle" [(ngModel)]="nuevaSolucionAmbito.caracteristicasTitle"
                      name="caracteristicasTitle" placeholder="caracteristicasTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="caracteristicasPragma">caracteristicasPragma:</label>
                    <textarea id="caracteristicasPragma" [(ngModel)]="nuevaSolucionAmbito.caracteristicasPragma"
                      name="caracteristicasPragma" placeholder="caracteristicasPragma" pInputText
                      variant="filled"></textarea>
                  </div>
                  <div class="form-group col-6">
                    <label for="casosdeusoTitle">casosdeusoTitle:</label>
                    <input id="casosdeusoTitle" [(ngModel)]="nuevaSolucionAmbito.casosdeusoTitle" name="casosdeusoTitle"
                      placeholder="casosdeusoTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="casosdeusoPragma">casosdeusoPragma:</label>
                    <textarea id="casosdeusoPragma" [(ngModel)]="nuevaSolucionAmbito.casosdeusoPragma"
                      name="casosdeusoPragma" placeholder="casosdeusoPragma" pInputText variant="filled"></textarea>
                  </div>
                  <div class="form-group col-6">
                    <label for="firstCtaTitle">firstCtaTitle:</label>
                    <input id="firstCtaTitle" [(ngModel)]="nuevaSolucionAmbito.firstCtaTitle" name="firstCtaTitle"
                      placeholder="firstCtaTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="firstCtaPragma">firstCtaPragma:</label>
                    <textarea id="firstCtaPragma" [(ngModel)]="nuevaSolucionAmbito.firstCtaPragma" name="firstCtaPragma"
                      placeholder="firstCtaPragma" pInputText variant="filled"></textarea>
                  </div>
                  <div class="form-group col-6">
                    <label for="secondCtaTitle">secondCtaTitle:</label>
                    <input id="secondCtaTitle" [(ngModel)]="nuevaSolucionAmbito.secondCtaTitle" name="secondCtaTitle"
                      placeholder="secondCtaTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="secondCtaPragma">secondCtaPragma:</label>
                    <textarea id="secondCtaPragma" [(ngModel)]="nuevaSolucionAmbito.secondCtaPragma"
                      name="secondCtaPragma" placeholder="secondCtaPragma" pInputText variant="filled"></textarea>
                  </div>
                  <div class="form-group col-6">
                    <label for="beneficiosTitle">beneficiosTitle:</label>
                    <input id="beneficiosTitle" [(ngModel)]="nuevaSolucionAmbito.beneficiosTitle" name="beneficiosTitle"
                      placeholder="beneficiosTitle" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="beneficiosPragma">beneficiosPragma:</label>
                    <textarea id="beneficiosPragma" [(ngModel)]="nuevaSolucionAmbito.beneficiosPragma"
                      name="beneficiosPragma" placeholder="beneficiosPragma" pInputText variant="filled"></textarea>
                  </div>
                </div>
                <div class="botones-container4">
                  <button type="submit">Modificar</button>
                  <button type="button"
                    (click)="mostrarModificarSolucionAmbito = false; mostrarBotonModificarSolucionAmbito = true">Cancelar</button>
                </div>
              </form>
            </div>

            <div *ngIf="solucion?.ambitos && solucion.ambitos.length">
              <p-table [value]="solucion.ambitos" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">
                <ng-template pTemplate="header">
                  <tr>
                    <th>ambitoDescription</th>
                    <th>solucionDescription</th>
                    <th>title</th>
                    <th>subtitle</th>
                    <th>icon</th>
                    <th>titleweb</th>
                    <th>slug</th>
                    <th>multimediaUri</th>
                    <th>multimediaTypeId</th>
                    <th>problemaTitle</th>
                    <th>problemaPragma</th>
                    <th>solucionTitle</th>
                    <th>solucionPragma</th>
                    <th>caracteristicasTitle</th>
                    <th>caracteristicasPragma</th>
                    <th>casosdeusoTitle</th>
                    <th>casosdeusoPragma</th>
                    <th>firstCtaTitle</th>
                    <th>firstCtaPragma</th>
                    <th>secondCtaTitle</th>
                    <th>secondCtaPragma</th>
                    <th>beneficiosTitle</th>
                    <th>beneficiosPragma</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-solucionAmbito>
                  <tr>
                    <td>{{ getAmbitoDescription(solucionAmbito.id_ambito) }}</td>
                    <td>{{ solucion.description }}</td>
                    <td>{{ solucionAmbito.title }}</td>
                    <td>{{ solucionAmbito.subtitle }}</td>
                    <td>{{ solucionAmbito.icon }}</td>
                    <td>{{ solucionAmbito.titleweb }}</td>
                    <td>{{ solucionAmbito.slug }}</td>
                    <td>{{ solucionAmbito.multimediaUri }}</td>
                    <td>{{ solucionAmbito.multimediaTypeId }}</td>
                    <td>{{ solucionAmbito.problemaTitle }}</td>
                    <td>{{ solucionAmbito.problemaPragma }}</td>
                    <td>{{ solucionAmbito.solucionTitle }}</td>
                    <td>{{ solucionAmbito.solucionPragma }}</td>
                    <td>{{ solucionAmbito.caracteristicasTitle }}</td>
                    <td>{{ solucionAmbito.caracteristicasPragma }}</td>
                    <td>{{ solucionAmbito.casosdeusoTitle }}</td>
                    <td>{{ solucionAmbito.casosdeusoPragma }}</td>
                    <td>{{ solucionAmbito.firstCtaTitle }}</td>
                    <td>{{ solucionAmbito.firstCtaPragma }}</td>
                    <td>{{ solucionAmbito.secondCtaTitle }}</td>
                    <td>{{ solucionAmbito.secondCtaPragma }}</td>
                    <td>{{ solucionAmbito.beneficiosTitle }}</td>
                    <td>{{ solucionAmbito.beneficiosPragma }}</td>
                    <td>
                      <span (click)="editarSolucionAmbito(solucionAmbito)" class="emojis">‚úèÔ∏è</span>
                    </td>
                    <td><span
                        (click)="confirmarEliminarSolucionAmbito(solucionAmbito.id_ambito!, solucionAmbito.id_solucion!, $event)"
                        class="emojis">üóëÔ∏è</span></td>
                  </tr>
                </ng-template>
              </p-table>

            </div>
            <div *ngIf="!solucion?.ambitos || solucion.ambitos.length === 0">
              <p>No hay √°mbitos asociados a esta soluci√≥n.</p>
            </div>
          </div>

        </div>

        <!-- Secci√≥n de sectores -->
        <div class="seccion4" #scrollSectores>
          <h2 class="titulo-seccion">Sectores</h2>

          <div *ngIf="mostrarModificarSector === true" class="subseccion">
            <h3 class="titulo-subseccion">Modificar sector</h3>

            <form (ngSubmit)="modificarSector()">
              <div class="grid-container">
                <div class="form-group col-6">
                  <label for="nuevaDescripcionSector">Descripci√≥n:</label>
                  <textarea id="nuevaDescripcionSector" [(ngModel)]="nuevoSector.description"
                    name="nuevaDescripcionSector" required placeholder="Descripci√≥n" pInputText
                    variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoTextoweb">Texto Web:</label>
                  <textarea id="nuevoTextoweb" [(ngModel)]="nuevoSector.textoweb" name="nuevoTextoweb"
                    placeholder="Texto Web" required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoPrefijo">Prefijo:</label>
                  <textarea id="nuevoPrefijo" [(ngModel)]="nuevoSector.prefijo" name="nuevoPrefijo"
                    placeholder="Prefijo" required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoSlug">Slug:</label>
                  <textarea id="nuevoSlug" [(ngModel)]="nuevoSector.slug" name="nuevoSlug" placeholder="Slug"
                    required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevaDescriptionWeb">Descripci√≥n Web:</label>
                  <textarea id="nuevaDescriptionWeb" [(ngModel)]="nuevoSector.descriptionweb" name="nuevaDescriptionWeb"
                    placeholder="Descripci√≥n Web" required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevoTitleWeb">T√≠tulo Web:</label>
                  <textarea id="nuevoTitleWeb" [(ngModel)]="nuevoSector.titleweb" name="nuevoTitleWeb"
                    placeholder="T√≠tulo Web" required></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="nuevaBackgroundImage">Imagen de fondo (URL):</label>
                  <textarea id="nuevaBackgroundImage" [(ngModel)]="nuevoSector.backgroundImage"
                    placeholder="Imagen de fondo" name="nuevaBackgroundImage" required></textarea>
                </div>
              </div>
              <div class="botones-container5">
                <button type="submit">Modificar</button>
                <button type="button"
                  (click)="mostrarModificarSector = false; mostrarBotonModificarSector = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div *ngIf="mostrarCrearSector === true" class="subseccion">
            <h3 class="titulo-subseccion">Crear y a√±adir sector</h3>

            <form (ngSubmit)="crearNuevoSector()" #crearSecForm="ngForm">
              <div class="form-group margen">
                <label for="nuevaDescripcionSector">Descripci√≥n:</label>
                <textarea id="nuevaDescripcionSector" [(ngModel)]="nuevoSector.description"
                  placeholder="Descripci√≥n del sector" name="nuevaDescripcionSector" required
                  #descripcionCtrl="ngModel"></textarea>
                <div class="error" *ngIf="descripcionCtrl.invalid && descripcionCtrl.touched">
                  La descripci√≥n es obligatoria.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoTextoweb">Texto Web:</label>
                <textarea id="nuevoTextoweb" [(ngModel)]="nuevoSector.textoweb" name="nuevoTextoweb"
                  placeholder="Texto Web del sector" required #textowebCtrl="ngModel"></textarea>
                <div class="error" *ngIf="textowebCtrl.invalid && textowebCtrl.touched">
                  El texto web es obligatorio.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoPrefijo">Prefijo:</label>
                <textarea id="nuevoPrefijo" [(ngModel)]="nuevoSector.prefijo" name="nuevoPrefijo"
                  placeholder="Prefijo del sector" required #prefijoCtrl="ngModel"></textarea>
                <div class="error" *ngIf="prefijoCtrl.invalid && prefijoCtrl.touched">
                  El prefijo es obligatorio.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoSlug">Slug:</label>
                <textarea id="nuevoSlug" [(ngModel)]="nuevoSector.slug" name="nuevoSlug" placeholder="Slug del sector"
                  required #slugCtrl="ngModel"></textarea>
                <div class="error" *ngIf="slugCtrl.invalid && slugCtrl.touched">
                  El slug es obligatorio.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevaDescriptionWeb">Descripci√≥n Web:</label>
                <textarea id="nuevaDescriptionWeb" [(ngModel)]="nuevoSector.descriptionweb" name="nuevaDescriptionWeb"
                  placeholder="Descripci√≥n Web del sector" required #descriptionwebCtrl="ngModel"></textarea>
                <div class="error" *ngIf="descriptionwebCtrl.invalid && descriptionwebCtrl.touched">
                  La descripci√≥n web es obligatoria.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevoTitleWeb">T√≠tulo Web:</label>
                <textarea id="nuevoTitleWeb" [(ngModel)]="nuevoSector.titleweb" name="nuevoTitleWeb"
                  placeholder="T√≠tulo Web del sector" required #titlewebCtrl="ngModel"></textarea>
                <div class="error" *ngIf="titlewebCtrl.invalid && titlewebCtrl.touched">
                  El t√≠tulo web es obligatorio.
                </div>
              </div>

              <div class="form-group margen">
                <label for="nuevaBackgroundImage">Imagen de fondo (URL):</label>
                <textarea id="nuevaBackgroundImage" [(ngModel)]="nuevoSector.backgroundImage"
                  placeholder="Imagen de fondo del sector" name="nuevaBackgroundImage" required
                  #backgroundCtrl="ngModel"></textarea>
                <div class="error" *ngIf="backgroundCtrl.invalid && backgroundCtrl.touched">
                  La imagen de fondo es obligatoria.
                </div>
              </div>

              <div class="botones-container5">
                <button type="submit" [disabled]="crearSecForm.invalid">Crear y A√±adir</button>
                <button type="button"
                  (click)="mostrarCrearSector = false; mostrarBotonCrearSector = true">Cancelar</button>
              </div>
            </form>

          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">A√±adir sectores a la soluci√≥n</h3>
            <div class="buscador-selector-container">
              <div class="form-group col-12">
                <label for="buscadorSector">Seleccionar sector:</label>
                <div class="custom-select">
                  <input type="text" id="buscadorSector" [(ngModel)]="buscadorSector" name="buscadorSector"
                    (input)="filtrarSectores()" (focus)="mostrarOpcionesSectores = true"
                    (click)="mostrarOpcionesSectores = true" placeholder="Buscar y seleccionar sector..." pInputText
                    variant="filled" />
                  <div class="dropdown-menu" *ngIf="mostrarOpcionesSectores">
                    <div *ngFor="let sector of sectoresFiltrados" class="dropdown-item"
                      (click)="seleccionarSector(sector)">
                      {{ sector.description }}
                    </div>
                    <div class="dropdown-item"
                      (click)="scrollSector(); mostrarCrearSector = true; mostrarOpcionesSectores = false">
                      - Crear y A√±adir Sector -
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="botones-container">
              <button type="button" (click)="agregarSector()">A√±adir Sector</button>
            </div>
          </div>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Sectores asociados a la soluci√≥n</h3>
            <div>
              <p-table [value]="solucion.sectores || []" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">
                <ng-template pTemplate="header">
                  <tr>
                    <th>Descripci√≥n</th>
                    <th>Texto Web</th>
                    <th>Prefijo</th>
                    <th>Slug</th>
                    <th>Descripci√≥n Web</th>
                    <th>T√≠tulo Web</th>
                    <th>Imagen de fondo (URL):</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-sector>
                  <tr>
                    <td>{{sector.description}}</td>
                    <td>{{sector.textoweb}}</td>
                    <td>{{sector.prefijo}}</td>
                    <td>{{sector.slug}}</td>
                    <td>{{sector.descriptionweb}}</td>
                    <td>{{sector.titleweb}}</td>
                    <td>{{sector.backgroundImage}}</td>
                    <td><span (click)="editarSector(sector)" class="emojis">‚úèÔ∏è</span></td>
                    <td>
                      <span (click)="confirmarEliminarSector(sector.id_sector, $event)" class="emojis">üóëÔ∏è</span>
                    </td>

                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="9" style="text-align: center;">No hay sectores asociados a esta soluci√≥n.</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>

          <br>

          <div class="subseccion">
            <h3 class="titulo-subseccion">Soluci√≥n seg√∫n cada sector</h3>

            <!-- Formulario para modificar soluci√≥n por sector -->
            <div *ngIf="mostrarModificarSolucionSector" class="subseccion" #formularioSolucionSector>
              <h3 class="titulo-subseccion">Modificar soluci√≥n por sector</h3>

              <form (ngSubmit)="modificarSolucionSector()">
                <div class="grid-container">
                  <div class="form-group col-6">
                    <label for="descalternativa">descalternativa:</label>
                    <input id="descalternativa" [(ngModel)]="nuevaSolucionSector.descalternativa" name="descalternativa"
                      placeholder="descalternativa" pInputText variant="filled">
                  </div>
                  <div class="form-group col-6">
                    <label for="textoalternativo">textoalternativo:</label>
                    <input id="textoalternativo" [(ngModel)]="nuevaSolucionSector.textoalternativo"
                      name="textoalternativo" placeholder="textoalternativo" pInputText variant="filled">
                  </div>
                </div>
                <div class="botones-container4">
                  <button type="submit">Modificar</button>
                  <button type="button"
                    (click)="mostrarModificarSolucionSector = false; mostrarBotonModificarSolucionSector = true">Cancelar</button>
                </div>
              </form>
            </div>

            <div *ngIf="solucionesSectores && solucionesSectores.length">
              <p-table [value]="solucionesSectores" [paginator]="true" [rows]="5"
                [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">
                <ng-template pTemplate="header">
                  <tr>
                    <th>ID solucion</th>
                    <th>ID sector</th>
                    <th>descalternativa</th>
                    <th>textoalternativo</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </tr>
                </ng-template>

                <ng-template pTemplate="body" let-solucionSector>
                  <tr>
                    <td>{{ solucionSector.id_solucion }}</td>
                    <td>{{ solucionSector.id_sector }}</td>
                    <td>{{ solucionSector.descalternativa }}</td>
                    <td>{{ solucionSector.textoalternativo }}</td>
                    <td>
                      <span (click)="editarSolucionSector(solucionSector)" class="emojis">‚úèÔ∏è</span>
                    </td>
                    <td>
                      <span
                        (click)="confirmarEliminarSolucionSector(solucionSector.id_sector!, solucion.id_solucion!, $event)"
                        class="emojis">üóëÔ∏è</span>
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>

            <div *ngIf="!solucionesSectores || solucionesSectores.length === 0">
              <p>No hay sectores asociados a esta soluci√≥n.</p>
            </div>
          </div>

        </div>

      </div>

      <div class="flex4">
        <div class="subseccion">
          <h3 class="titulo-subseccion">Soluci√≥n seg√∫n cada √°mbito sector</h3>

          <!-- Formulario para modificar soluci√≥n por √°mbito y sector -->
          <div *ngIf="mostrarModificarSolucionAmbitoSector" class="subseccion" #formularioSolucionAmbitoSector>
            <h3 class="titulo-subseccion">Modificar soluci√≥n por √°mbito y sector</h3>

            <form (ngSubmit)="modificarSolucionAmbitoSector()">
              <div class="grid-container">
                <div class="form-group col-6">
                  <label for="titleweb">titleweb:</label>
                  <input id="titleweb" [(ngModel)]="nuevaSolucionAmbitoSector.titleweb" name="titleweb"
                    placeholder="titleweb" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="title">title:</label>
                  <input id="title" [(ngModel)]="nuevaSolucionAmbitoSector.title" name="title" placeholder="title"
                    pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="subtitle">subtitle:</label>
                  <input id="subtitle" [(ngModel)]="nuevaSolucionAmbitoSector.subtitle" name="subtitle"
                    placeholder="subtitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="description">description:</label>
                  <input id="description" [(ngModel)]="nuevaSolucionAmbitoSector.description" name="description"
                    placeholder="description" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="slug">slug:</label>
                  <input id="slug" [(ngModel)]="nuevaSolucionAmbitoSector.slug" name="slug" placeholder="slug"
                    pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="icon">icon:</label>
                  <input id="icon" [(ngModel)]="nuevaSolucionAmbitoSector.icon" name="icon" placeholder="icon"
                    pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="multimediaUri">multimediaUri:</label>
                  <input id="multimediaUri" [(ngModel)]="nuevaSolucionAmbitoSector.multimediaUri" name="multimediaUri"
                    placeholder="multimediaUri" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="multimediaTypeId">multimediaTypeId:</label>
                  <input id="multimediaTypeId" [(ngModel)]="nuevaSolucionAmbitoSector.multimediaTypeId"
                    name="multimediaTypeId" placeholder="multimediaTypeId" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="problemaTitle">problemaTitle:</label>
                  <input id="problemaTitle" [(ngModel)]="nuevaSolucionAmbitoSector.problemaTitle" name="problemaTitle"
                    placeholder="problemaTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="problemaPragma">problemaPragma:</label>
                  <textarea id="problemaPragma" [(ngModel)]="nuevaSolucionAmbitoSector.problemaPragma"
                    name="problemaPragma" placeholder="problemaPragma" pInputText variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="solucionTitle">solucionTitle:</label>
                  <input id="solucionTitle" [(ngModel)]="nuevaSolucionAmbitoSector.solucionTitle" name="solucionTitle"
                    placeholder="solucionTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="solucionPragma">solucionPragma:</label>
                  <textarea id="solucionPragma" [(ngModel)]="nuevaSolucionAmbitoSector.solucionPragma"
                    name="solucionPragma" placeholder="solucionPragma" pInputText variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="caracteristicasTitle">caracteristicasTitle:</label>
                  <input id="caracteristicasTitle" [(ngModel)]="nuevaSolucionAmbitoSector.caracteristicasTitle"
                    name="caracteristicasTitle" placeholder="caracteristicasTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="caracteristicasPragma">caracteristicasPragma:</label>
                  <textarea id="caracteristicasPragma" [(ngModel)]="nuevaSolucionAmbitoSector.caracteristicasPragma"
                    name="caracteristicasPragma" placeholder="caracteristicasPragma" pInputText
                    variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="casosdeusoTitle">casosdeusoTitle:</label>
                  <input id="casosdeusoTitle" [(ngModel)]="nuevaSolucionAmbitoSector.casosdeusoTitle"
                    name="casosdeusoTitle" placeholder="casosdeusoTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="casosdeusoPragma">casosdeusoPragma:</label>
                  <textarea id="casosdeusoPragma" [(ngModel)]="nuevaSolucionAmbitoSector.casosdeusoPragma"
                    name="casosdeusoPragma" placeholder="casosdeusoPragma" pInputText variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="firstCtaTitle">firstCtaTitle:</label>
                  <input id="firstCtaTitle" [(ngModel)]="nuevaSolucionAmbitoSector.firstCtaTitle" name="firstCtaTitle"
                    placeholder="firstCtaTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="firstCtaPragma">firstCtaPragma:</label>
                  <textarea id="firstCtaPragma" [(ngModel)]="nuevaSolucionAmbitoSector.firstCtaPragma"
                    name="firstCtaPragma" placeholder="firstCtaPragma" pInputText variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="secondCtaTitle">secondCtaTitle:</label>
                  <input id="secondCtaTitle" [(ngModel)]="nuevaSolucionAmbitoSector.secondCtaTitle"
                    name="secondCtaTitle" placeholder="secondCtaTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="secondCtaPragma">secondCtaPragma:</label>
                  <textarea id="secondCtaPragma" [(ngModel)]="nuevaSolucionAmbitoSector.secondCtaPragma"
                    name="secondCtaPragma" placeholder="secondCtaPragma" pInputText variant="filled"></textarea>
                </div>
                <div class="form-group col-6">
                  <label for="beneficiosTitle">beneficiosTitle:</label>
                  <input id="beneficiosTitle" [(ngModel)]="nuevaSolucionAmbitoSector.beneficiosTitle"
                    name="beneficiosTitle" placeholder="beneficiosTitle" pInputText variant="filled">
                </div>
                <div class="form-group col-6">
                  <label for="beneficiosPragma">beneficiosPragma:</label>
                  <textarea id="beneficiosPragma" [(ngModel)]="nuevaSolucionAmbitoSector.beneficiosPragma"
                    name="beneficiosPragma" placeholder="beneficiosPragma" pInputText variant="filled"></textarea>
                </div>
              </div>
              <div class="botones-container3">
                <button type="submit">Modificar</button>
                <button type="button"
                  (click)="mostrarModificarSolucionAmbitoSector = false; mostrarBotonModificarSolucionAmbitoSector = true">Cancelar</button>
              </div>
            </form>
          </div>

          <div *ngIf="solucionesAmbitosSectores && solucionesAmbitosSectores.length">
            <p-table [value]="solucionesAmbitosSectores" [paginator]="true" [rows]="5"
              [tableStyle]="{ 'min-width': '90%', 'margin': '0 auto' }" styleClass="mi-tabla">
              <ng-template pTemplate="header">
                <tr>
                  <th>ID ambito</th>
                  <th>ID solucion</th>
                  <th>ID sector</th>
                  <th>titleweb</th>
                  <th>title</th>
                  <th>subtitle</th>
                  <th>thread_id</th>
                  <th>description</th>
                  <th>slug</th>
                  <th>icon</th>
                  <th>multimediaUri</th>
                  <th>multimediaTypeId</th>
                  <th>problemaTitle</th>
                  <th>problemaPragma</th>
                  <th>solucionTitle</th>
                  <th>solucionPragma</th>
                  <th>caracteristicasTitle</th>
                  <th>caracteristicasPragma</th>
                  <th>casosdeusoTitle</th>
                  <th>casosdeusoPragma</th>
                  <th>firstCtaTitle</th>
                  <th>firstCtaPragma</th>
                  <th>secondCtaTitle</th>
                  <th>secondCtaPragma</th>
                  <th>beneficiosTitle</th>
                  <th>beneficiosPragma</th>
                  <th>Editar</th>
                  <th>Eliminar</th>
                </tr>
              </ng-template>

              <ng-template pTemplate="body" let-solucionAmbitoSector>
                <tr>
                  <td>{{ solucionAmbitoSector.id_ambito }}</td>
                  <td>{{ solucionAmbitoSector.id_solucion }}</td>
                  <td>{{ solucionAmbitoSector.id_sector }}</td>
                  <td>{{ solucionAmbitoSector.titleweb }}</td>
                  <td>{{ solucionAmbitoSector.title }}</td>
                  <td>{{ solucionAmbitoSector.subtitle }}</td>
                  <td>{{ solucionAmbitoSector.thread_id }}</td>
                  <td>{{ solucionAmbitoSector.description }}</td>
                  <td>{{ solucionAmbitoSector.slug }}</td>
                  <td>{{ solucionAmbitoSector.icon }}</td>
                  <td>{{ solucionAmbitoSector.multimediaUri }}</td>
                  <td>{{ solucionAmbitoSector.multimediaTypeId }}</td>
                  <td>{{ solucionAmbitoSector.problemaTitle }}</td>
                  <td>{{ solucionAmbitoSector.problemaPragma }}</td>
                  <td>{{ solucionAmbitoSector.solucionTitle }}</td>
                  <td>{{ solucionAmbitoSector.solucionPragma }}</td>
                  <td>{{ solucionAmbitoSector.caracteristicasTitle }}</td>
                  <td>{{ solucionAmbitoSector.caracteristicasPragma }}</td>
                  <td>{{ solucionAmbitoSector.casosdeusoTitle }}</td>
                  <td>{{ solucionAmbitoSector.casosdeusoPragma }}</td>
                  <td>{{ solucionAmbitoSector.firstCtaTitle }}</td>
                  <td>{{ solucionAmbitoSector.firstCtaPragma }}</td>
                  <td>{{ solucionAmbitoSector.secondCtaTitle }}</td>
                  <td>{{ solucionAmbitoSector.secondCtaPragma }}</td>
                  <td>{{ solucionAmbitoSector.beneficiosTitle }}</td>
                  <td>{{ solucionAmbitoSector.beneficiosPragma }}</td>
                  <td>
                    <span (click)="editarSolucionAmbitoSector(solucionAmbitoSector)" class="emojis">‚úèÔ∏è</span>
                  </td>
                  <td>
                    <span
                      (click)="confirmarEliminarSolucionAmbitoSector(solucionAmbitoSector.id_sector!, solucionAmbitoSector.id_ambito!, solucionAmbitoSector.id_solucion!,  $event)"
                      class="emojis">üóëÔ∏è</span>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>

          <div *ngIf="!solucionesAmbitosSectores || solucionesAmbitosSectores.length === 0">
            <p>No hay sectores o √°mbitos asociados a esta soluci√≥n.</p>
          </div>
        </div>
      </div>

      <div class="botones-container2">
        <button type="submit">Guardar Cambios</button>
        <button type="button" class="btn-secondary" (click)="cancelar()">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar problema -->
<div class="modal-overlay" *ngIf="mostrarModalProblema">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar este problema?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarProblema()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarProblema()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar beneficio -->
<div class="modal-overlay" *ngIf="mostrarModalBeneficio">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar este beneficio?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarBeneficio()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarBeneficio()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar caracter√≠stica -->
<div class="modal-overlay" *ngIf="mostrarModalCaracteristica">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar esta caracter√≠stica?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarCaracteristica()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarCaracteristica()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar √°mbito -->
<div class="modal-overlay" *ngIf="mostrarModalAmbito">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar este √°mbito?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarAmbito()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarAmbito()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar solucionAmbito -->
<div class="modal-overlay" *ngIf="mostrarModalSolucionAmbito">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar esta soluci√≥n del √°mbito?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarSolucionAmbito()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarSolucionAmbito()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar sector -->
<div class="modal-overlay" *ngIf="mostrarModalSector">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar este sector?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarSector()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarSector()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar solucionSector -->
<div class="modal-overlay" *ngIf="mostrarModalSolucionSector">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar esta soluci√≥n del sector?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarSolucionSector()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarSolucionSector()">Eliminar</button>
    </div>
  </div>
</div>

<!-- Modal de confirmaci√≥n para eliminar solucionAmbitoSector -->
<div class="modal-overlay" *ngIf="mostrarModalSolucionAmbitoSector">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Confirmar eliminaci√≥n</h2>
    </div>
    <div class="modal-body">
      <p>¬øEst√° seguro de que desea eliminar esta soluci√≥n del √°mbito y sector?</p>
      <p class="warning-text">Esta acci√≥n no se puede deshacer.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-cancelar" (click)="cancelarEliminarSolucionAmbitoSector()">Cancelar</button>
      <button class="btn-eliminar" (click)="eliminarSolucionAmbitoSector()">Eliminar</button>
    </div>
  </div>
</div>